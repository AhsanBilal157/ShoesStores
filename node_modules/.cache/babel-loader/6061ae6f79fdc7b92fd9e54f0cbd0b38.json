{"ast":null,"code":"import _toConsumableArray from\"/Users/bilalkhan/Projects/ShoesStores/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/bilalkhan/Projects/ShoesStores/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import{DataContext}from'./DataProvider';import Colors from'./Colors';import Sizes from'./Sizes';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Cart(){var value=useContext(DataContext);var _value$cart=_slicedToArray(value.cart,2),cart=_value$cart[0],setCart=_value$cart[1];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];useEffect(function(){var getTotal=function getTotal(){var res=cart.reduce(function(prev,item){return prev+item.price*item.count;},0);setTotal(res);};getTotal();},[cart]);var reduction=function reduction(id){cart.forEach(function(item){if(item._id===id){item.count===1?item.count=1:item.count-=1;}});setCart(_toConsumableArray(cart));};var increase=function increase(id){cart.forEach(function(item){if(item._id===id){item.count+=1;}});setCart(_toConsumableArray(cart));};var removeProduct=function removeProduct(id){if(window.confirm(\"Do you want to delete this product\")){cart.forEach(function(item,index){if(item._id===id){cart.splice(index,1);}});setCart(_toConsumableArray(cart));}};if(cart.length===0)return/*#__PURE__*/_jsx(\"h2\",{style:{paddingTop:\"30px\",textAlign:\"center\"},children:\"   Cart Empty\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[cart.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"details cart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img-container\",style:{backgroundImage:\"url(\".concat(product.image[0],\")\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-details\",children:[/*#__PURE__*/_jsx(\"h2\",{title:product.title,children:product.title}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"$\",product.price]}),/*#__PURE__*/_jsx(Sizes,{sizes:product.sizes}),/*#__PURE__*/_jsx(\"p\",{children:product.description}),/*#__PURE__*/_jsx(\"p\",{children:product.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"count\",onClick:function onClick(){return reduction(product._id);},children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:product.count}),/*#__PURE__*/_jsx(\"button\",{className:\"count\",onClick:function onClick(){return increase(product._id);},children:\" +\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"delete\",onClick:function onClick(){return removeProduct(product._id);},children:\"X\"})]})]},product._id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"total\",children:[/*#__PURE__*/_jsx(\"div\",{style:{paddingLeft:\"125px\"},children:/*#__PURE__*/_jsx(Link,{to:\"/payment\",children:\"Payment\"})}),/*#__PURE__*/_jsx(\"div\",{style:{paddingRight:\"125px\"},children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total:$\",total]})})]})]});}","map":{"version":3,"sources":["/Users/bilalkhan/Projects/ShoesStores/src/Componets/Cart.js"],"names":["React","useContext","useState","useEffect","DataContext","Colors","Sizes","Link","Cart","value","cart","setCart","total","setTotal","getTotal","res","reduce","prev","item","price","count","reduction","id","forEach","_id","increase","removeProduct","window","confirm","index","splice","length","paddingTop","textAlign","map","product","backgroundImage","image","title","sizes","description","content","paddingLeft","paddingRight"],"mappings":"gUAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAuCC,SAAvC,KAAwD,OAAxD,CACA,OAASC,WAAT,KAA4B,gBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,6IAKA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAE3B,GAAMC,CAAAA,KAAK,CAAGR,UAAU,CAACG,WAAD,CAAxB,CACA,+BAAwBK,KAAK,CAACC,IAA9B,IAAOA,IAAP,gBAAaC,OAAb,gBACA,cAA0BT,QAAQ,CAAC,CAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eAEAV,SAAS,CAAC,UAAM,CACZ,GAAMW,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAMC,CAAAA,GAAG,CAAGL,IAAI,CAACM,MAAL,CAAY,SAACC,IAAD,CAAOC,IAAP,CAAgB,CACpC,MAAOD,CAAAA,IAAI,CAAIC,IAAI,CAACC,KAAL,CAAaD,IAAI,CAACE,KAAjC,CAGH,CAJW,CAIT,CAJS,CAAZ,CAKAP,QAAQ,CAACE,GAAD,CAAR,CACH,CAPD,CAQAD,QAAQ,GACX,CAVQ,CAUN,CAACJ,IAAD,CAVM,CAAT,CAaA,GAAMW,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,EAAE,CAAI,CACpBZ,IAAI,CAACa,OAAL,CAAa,SAAAL,IAAI,CAAI,CACjB,GAAIA,IAAI,CAACM,GAAL,GAAaF,EAAjB,CAAqB,CACjBJ,IAAI,CAACE,KAAL,GAAe,CAAf,CAAmBF,IAAI,CAACE,KAAL,CAAa,CAAhC,CAAoCF,IAAI,CAACE,KAAL,EAAc,CAAlD,CAEH,CACJ,CALD,EAMAT,OAAO,oBAAKD,IAAL,EAAP,CACH,CARD,CAWA,GAAMe,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAH,EAAE,CAAI,CACnBZ,IAAI,CAACa,OAAL,CAAa,SAAAL,IAAI,CAAI,CACjB,GAAIA,IAAI,CAACM,GAAL,GAAaF,EAAjB,CAAqB,CACjBJ,IAAI,CAACE,KAAL,EAAc,CAAd,CAEH,CACJ,CALD,EAMAT,OAAO,oBAAKD,IAAL,EAAP,CACH,CARD,CAUJ,GAAMgB,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,CAAAJ,EAAE,CAAE,CACpB,GAAGK,MAAM,CAACC,OAAP,CAAe,oCAAf,CAAH,CAAwD,CACpDlB,IAAI,CAACa,OAAL,CAAa,SAACL,IAAD,CAAMW,KAAN,CAAc,CACvB,GAAGX,IAAI,CAACM,GAAL,GAAWF,EAAd,CAAiB,CACbZ,IAAI,CAACoB,MAAL,CAAYD,KAAZ,CAAkB,CAAlB,EAEa,CAEpB,CAND,EAQAlB,OAAO,oBAAKD,IAAL,EAAP,CACH,CACJ,CAZD,CAeI,GAAIA,IAAI,CAACqB,MAAL,GAAgB,CAApB,CACI,mBAAO,WAAI,KAAK,CAAE,CAAEC,UAAU,CAAC,MAAb,CAAoBC,SAAS,CAAE,QAA/B,CAAX,2BAAP,CAEJ,mBACI,2BAEQvB,IAAI,CAACwB,GAAL,CAAS,SAAAC,OAAO,qBACZ,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,SAAS,CAAC,eAAf,CACI,KAAK,CAAE,CAAEC,eAAe,eAASD,OAAO,CAACE,KAAR,CAAc,CAAd,CAAT,KAAjB,CADX,EADJ,cAII,aAAK,SAAS,CAAC,aAAf,wBACI,WAAI,KAAK,CAAEF,OAAO,CAACG,KAAnB,UAA2BH,OAAO,CAACG,KAAnC,EADJ,cAGI,0BAAMH,OAAO,CAAChB,KAAd,GAHJ,cAII,KAAC,KAAD,EAAO,KAAK,CAAEgB,OAAO,CAACI,KAAtB,EAJJ,cAOI,mBAAIJ,OAAO,CAACK,WAAZ,EAPJ,cAQI,mBAAIL,OAAO,CAACM,OAAZ,EARJ,cAWI,aAAK,SAAS,CAAC,QAAf,wBACI,eAAQ,SAAS,CAAC,OAAlB,CAA0B,OAAO,CAAE,yBAAMpB,CAAAA,SAAS,CAACc,OAAO,CAACX,GAAT,CAAf,EAAnC,eADJ,cAEI,sBAAOW,OAAO,CAACf,KAAf,EAFJ,cAGI,eAAQ,SAAS,CAAC,OAAlB,CAA0B,OAAO,CAAE,yBAAMK,CAAAA,QAAQ,CAACU,OAAO,CAACX,GAAT,CAAd,EAAnC,gBAHJ,GAXJ,cAkBI,YAAK,SAAS,CAAC,QAAf,CAAwB,OAAO,CAAE,yBAAKE,CAAAA,aAAa,CAACS,OAAO,CAACX,GAAT,CAAlB,EAAjC,eAlBJ,GAJJ,GAAmCW,OAAO,CAACX,GAA3C,CADY,EAAhB,CAFR,cA0CI,aAAK,SAAS,CAAC,OAAf,wBACI,YAAK,KAAK,CAAE,CAACkB,WAAW,CAAC,OAAb,CAAZ,uBAAmC,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,qBAAnC,EADJ,cAGI,YAAK,KAAK,CAAE,CAACC,YAAY,CAAC,OAAd,CAAZ,uBAAoC,gCAAY/B,KAAZ,GAApC,EAHJ,GA1CJ,GADJ,CAoDH","sourcesContent":["import React, { useContext, useState,  useEffect } from 'react'\r\nimport { DataContext } from './DataProvider'\r\nimport Colors from './Colors'\r\nimport Sizes from './Sizes'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\n\r\n\r\nexport default function Cart() {\r\n\r\n    const value = useContext(DataContext)\r\n    const [cart, setCart] = value.cart;\r\n    const [total, setTotal] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const getTotal = () => {\r\n            const res = cart.reduce((prev, item) => {\r\n                return prev + (item.price * item.count)\r\n\r\n\r\n            }, 0)\r\n            setTotal(res)\r\n        }\r\n        getTotal()\r\n    }, [cart])\r\n\r\n\r\n    const reduction = id => {\r\n        cart.forEach(item => {\r\n            if (item._id === id) {\r\n                item.count === 1 ? item.count = 1 : item.count -= 1;\r\n\r\n            }\r\n        })\r\n        setCart([...cart])\r\n    }\r\n\r\n\r\n    const increase = id => {\r\n        cart.forEach(item => {\r\n            if (item._id === id) {\r\n                item.count += 1;\r\n\r\n            }\r\n        })\r\n        setCart([...cart])\r\n    }\r\n\r\nconst removeProduct=id=>{\r\n    if(window.confirm(\"Do you want to delete this product\")){\r\n        cart.forEach((item,index)=>{\r\n            if(item._id===id){\r\n                cart.splice(index,1)\r\n\r\n                            }\r\n            \r\n        })\r\n\r\n        setCart([...cart])\r\n    }\r\n}\r\n\r\n    \r\n    if (cart.length === 0)\r\n        return <h2 style={{ paddingTop:\"30px\",textAlign: \"center\"}}>   Cart Empty</h2>\r\n\r\n    return (\r\n        <>\r\n            {\r\n                cart.map(product => (\r\n                    <div className=\"details cart\" key={product._id}>\r\n                        <div className=\"img-container\"\r\n                            style={{ backgroundImage: `url(${product.image[0]})` }} />\r\n\r\n                        <div className=\"box-details\">\r\n                            <h2 title={product.title}>{product.title}</h2>\r\n\r\n                            <h3>${product.price}</h3>\r\n                            <Sizes sizes={product.sizes} />\r\n\r\n\r\n                            <p>{product.description}</p>\r\n                            <p>{product.content}</p>\r\n\r\n                            {/* <DetailsThumb image={product.image} setIndex={setIndex} /> */}\r\n                            <div className=\"amount\">\r\n                                <button className=\"count\" onClick={() => reduction(product._id)}>-</button>\r\n                                <span>{product.count}</span>\r\n                                <button className=\"count\" onClick={() => increase(product._id)}> +</button>\r\n\r\n                            </div>\r\n\r\n                            <div className=\"delete\" onClick={()=> removeProduct(product._id)}> \r\n                                X\r\n                            </div>\r\n\r\n\r\n\r\n\r\n\r\n                        </div>\r\n\r\n\r\n\r\n                    </div>\r\n\r\n                ))\r\n            }\r\n\r\n            <div className=\"total\">\r\n                <div style={{paddingLeft:\"125px\"}}><Link to=\"/payment\" >Payment</Link></div>\r\n                \r\n                <div style={{paddingRight:\"125px\"}}><h3>Total:${total}</h3></div>\r\n\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}